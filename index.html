<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Hirsty Productions</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Top Bar -->
  <div class="top-bar">
    <a href="index.html" class="site-title">HIRSTY PRODUCTIONS</a>
    <nav class="top-menu" aria-label="Main navigation">
      <a href="index.html">Home</a>
      <a href="portfolio.html">Portfolio</a>
    </nav>
  </div>

  <header class="welcome-banner" style="text-align:center;">
    <h1 class="welcome-title" style="margin:0;">
      <span class="welcome-top">WELCOME TO</span><br>
      <span class="welcome-bottom">HIRSTY PRODUCTIONS</span>
    </h1>
    <div class="welcome-subtitle">Your vision, professionally produced.</div>
  </header>

  <main>
    <section class="showreel">
      <h2>Showreel</h2>
      <div class="video-wrapper">
        <!-- Single iframe in DOM. JS will move it into a floating container on load and animate back on scroll. -->
        <iframe
          class="showreel-iframe"
          src="https://www.youtube.com/embed/iGTNLc4Vkuo?start=1&autoplay=1&mute=1&playsinline=1&rel=0"
          title="Hirsty Productions Showreel"
          frameborder="0"
          allow="autoplay; fullscreen; picture-in-picture; encrypted-media"
          allowfullscreen
          loading="eager"></iframe>
      </div>
    </section>

    <section class="services">
      <h2>Services</h2>
      <div class="service-list">
        <div class="service-item">
          <svg width="100" height="100" viewBox="0 0 64 64" fill="none" stroke="#000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <rect x="10" y="18" width="30" height="28" rx="4"/>
            <polygon points="40,28 54,20 54,44 40,36" fill="none"/>
          </svg>
          <p>VIDEOGRAPHY</p>
        </div>
        <div class="service-item">
          <svg width="100" height="100" viewBox="0 0 64 64" fill="none" stroke="#000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <rect x="12" y="20" width="40" height="28" rx="5"/>
            <circle cx="20" cy="28" r="3"/>
            <polyline points="16,40 28,32 36,40 44,32"/>
          </svg>
          <p>PHOTOGRAPHY</p>
        </div>
        <div class="service-item">
          <svg width="100" height="100" viewBox="0 0 64 64" fill="none" stroke="#000" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <circle cx="22" cy="42" r="7"/>
            <circle cx="42" cy="22" r="7"/>
            <line x1="30" y1="34" x2="54" y2="58"/>
            <line x1="34" y1="30" x2="58" y2="54"/>
          </svg>
          <p>EDITING</p>
        </div>
      </div>
    </section>

    <section class="my-videos">
      <h2>My Videos</h2>
      <div class="video-row">
        <iframe src="https://www.youtube.com/embed/qR1ZKKu2WGo"
          title="Encore (2024) | Festival S..." frameborder="0" allowfullscreen></iframe>
        <iframe src="https://www.youtube.com/embed/S3I5iOi9lpw"
          title="The Break In - Short Film" frameborder="0" allowfullscreen></iframe>
        <iframe src="https://www.youtube.com/embed/QchzTBHIGfg"
          title="Super 6 Winner Takes All!" frameborder="0" allowfullscreen></iframe>
      </div>
    </section>

    <section class="clients">
      <h2>Worked With</h2>
      <div class="client-logos">
        <a href="https://www.football5s.com/" target="_blank" rel="noopener">
          <img src="https://www.football5s.com/wp-content/uploads/2021/10/VMWS23DQ.png" alt="Fives logo">
        </a>
        <a href="https://www.adi.tv/" target="_blank" rel="noopener">
          <img src="https://www.adi.tv/wp-content/uploads/2021/07/ADI-BRAND-GENERIC-GREY.png" alt="ADI TV logo">
        </a>
        <a href="https://blackfriarsfc.co.uk/" target="_blank" rel="noopener">
          <img src="https://blackfriarsfc.co.uk/wp-content/uploads/2023/12/bfcwhite.png" alt="Blackfriars FC logo">
        </a>
      </div>
    </section>

    <section class="contact">
      <h2>Contact Us</h2>
      <div class="contact-form">
        <form action="https://formspree.io/f/xqadwozq" method="POST">
          <label for="name">Name:</label>
          <input type="text" id="name" name="name" required autocomplete="name">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" required autocomplete="email">
          <label for="message">Message:</label>
          <textarea id="message" name="message" rows="4" required></textarea>
          <button type="submit">Send</button>
        </form>
        <p>Or email: <a href="mailto:matt.hirst@hirstyproductions.com">matt.hirst@hirstyproductions.com</a></p>
      </div>
    </section>
  </main>

  <!-- Bottom Socials Bar -->
  <div class="bottom-bar">
    <div class="bottom-bar-content">
      <span class="bottom-bar-title">Hirsty Productions</span>
      <div class="bottom-bar-icons">
        <a href="https://www.instagram.com/hirstyproductions/" target="_blank" rel="noopener" aria-label="Instagram">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none"><rect width="24" height="24" rx="7" fill="#fff"/><path d="M16.5 7.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12 8.75A3.25 3.25 0 1 0 12 15.25a3.25 3.25 0 0 0 0-6.5Zm0 1.5a1.75 1.75 0 1 1 0 3.5 1.75 1.75 0 0 1 0-3.5ZM7.25 4A3.25 3.25 0 0 0 4 7.25v9.5A3.25 3.25 0 0 0 7.25 20h9.5A3.25 3.25 0 0 0 20 16.75v-9.5A3.25 3.25 0 0 0 16.75 4h-9.5Zm0 1.5h9.5c.97 0 1.75.78 1.75 1.75v9.5c0 .97-.78 1.75-1.75 1.75h-9.5A1.75 1.75 0 0 1 5.5 16.75v-9.5c0-.97.78-1.75 1.75-1.75Z" fill="#000"/></svg>
        </a>
        <a href="https://www.linkedin.com/in/matthew-hirst-950298206/" target="_blank" rel="noopener" aria-label="LinkedIn">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none"><rect width="24" height="24" rx="7" fill="#fff"/><path d="M16.5 7.5A1.5 1.5 0 0 0 15 6h-6a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 9 18h6a1.5 1.5 0 0 0 1.5-1.5v-9ZM8.56 17.25h-2.01V10h2.01v7.25ZM7.56 8.75a1.01 1.01 0 1 1 0-2.02 1.01 1.01 0 0 1 0 2.02Zm9.19 8.5h-2.01v-3.62c0-.86-.32-1.45-1.12-1.45-.61 0-.97.41-1.13.81-.06.14-.08.34-.08.54v3.72h-2.01s.03-6.04 0-7.25h2.01v1.03c.27-.42.76-1.03 1.85-1.03 1.35 0 2.36.88 2.36 2.77v4.48Z" fill="#000"/></svg>
        </a>
        <a href="https://www.youtube.com/@hirstyproductions" target="_blank" rel="noopener" aria-label="YouTube">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none"><rect width="24" height="24" rx="7" fill="#fff"/><path d="M19.5 8.26A2.5 2.5 0 0 0 17.1 6.5C15.3 6 12 6 12 6s-3.3 0-5.1.5A2.5 2.5 0 0 0 4.5 8.26C4 10.07 4 12 4 12s0 1.93.5 3.74a2.5 2.5 0 0 0 2.4 1.76C8.7 18 12 18 12 18s3.3 0 5.1-.5c1.1-.22 2-1.03 2.4-1.76.5-1.81.5-3.74.5-3.74s0-1.93-.5-3.74ZM10 15.5V8.5l6 3.5-6 3.5Z" fill="#000"/></svg>
        </a>
        <a href="https://www.tiktok.com/@hirstyproductions?is_from_webapp=1&sender_device=pc" target="_blank" rel="noopener" aria-label="TikTok">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none"><rect width="24" height="24" rx="7" fill="#fff"/><path d="M16.75 8.75a3.25 3.25 0 0 1-3.25-3.25V4h-2.5v10.5a1.25 1.25 0 1 1-1.25-1.25V11a3.25 3.25 0 1 0 3.25 3.25V9.5a5.25 5.25 0 0 0 5.25 5.25h.5V12c-1.93 0-3.5-1.57-3.5-3.5V8.75Z" fill="#000"/></svg>
        </a>
      </div>
    </div>
  </div>

  <script>
  // FLIP animation: move iframe into a floating full-screen wrapper on load,
  // then when the user scrolls or clicks, animate back into the inline container.
  (function () {
    const iframe = document.querySelector('.showreel-iframe');
    const wrapper = document.querySelector('.showreel .video-wrapper');
    if (!iframe || !wrapper) return;

    // helper to create floating container and move iframe into it
    function createFloating() {
      const floating = document.createElement('div');
      floating.className = 'fp-floating';
      // will be positioned fixed to cover the viewport initially
      Object.assign(floating.style, {
        position: 'fixed',
        left: '0',
        top: '0',
        width: '100vw',
        height: '100vh',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        zIndex: 9999,
        pointerEvents: 'auto',
        background: '#000'
      });
      // move iframe into floating
      iframe.style.width = '100%';
      iframe.style.height = '100%';
      iframe.style.border = 'none';
      iframe.style.maxWidth = '100%';
      iframe.style.maxHeight = '100%';
      floating.appendChild(iframe);
      document.body.appendChild(floating);
      // small initial paint
      return floating;
    }

    // compute and animate FLIP to the inline wrapper position
    function animateToInline(floating) {
      // final rect = wrapper's inner target space (video-wrapper)
      const targetRect = wrapper.getBoundingClientRect();
      const floatingRect = floating.getBoundingClientRect();

      // compute scale and translate from floating -> target
      const scaleX = targetRect.width / floatingRect.width;
      const scaleY = targetRect.height / floatingRect.height;
      const translateX = targetRect.left - floatingRect.left;
      const translateY = targetRect.top - floatingRect.top;

      // prepare transition
      floating.style.transformOrigin = 'top left';
      floating.style.transition = 'transform 700ms cubic-bezier(.2,.9,.3,1), border-radius 700ms ease, width 700ms ease, height 700ms ease';
      // add rounded corners on animate to match inline look
      floating.style.borderRadius = '12px';
      // trigger the transform
      requestAnimationFrame(() => {
        floating.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scaleX}, ${scaleY})`;
      });

      // on transition end, move iframe back to wrapper and clean up floating element
      function onTransitionEnd(e) {
        if (e.propertyName !== 'transform') return;
        floating.removeEventListener('transitionend', onTransitionEnd);
        // reset transform so moving the iframe back does not get affected
        floating.style.transition = '';
        floating.style.transform = '';
        floating.style.borderRadius = '';
        // move iframe back into the original wrapper
        iframe.style.width = '';
        iframe.style.height = '';
        iframe.style.maxWidth = '';
        iframe.style.maxHeight = '';
        wrapper.appendChild(iframe);
        // remove floating element
        if (floating.parentNode) floating.parentNode.removeChild(floating);
      }
      floating.addEventListener('transitionend', onTransitionEnd);
    }

    // create floating and keep it until user scrolls (or clicks)
    const floating = createFloating();

    // UX: reveal hint (optional) - small down arrow - not required; keep simple
    // Trigger shrink on: first scroll, wheel, or touchstart, or click anywhere
    let triggered = false;
    function triggerShrink() {
      if (triggered) return;
      triggered = true;
      // animate to inline
      animateToInline(floating);
      // remove listeners
      window.removeEventListener('wheel', onWheel);
      window.removeEventListener('touchstart', onTouch);
      window.removeEventListener('scroll', onScroll);
      document.removeEventListener('click', onClick);
    }

    function onWheel() { triggerShrink(); }
    function onTouch() { triggerShrink(); }
    function onScroll() {
      // only shrink if user actually scrolled down a bit
      if (window.scrollY > 30) triggerShrink();
    }
    function onClick() { triggerShrink(); }

    // attach listeners
    window.addEventListener('wheel', onWheel, {passive: true});
    window.addEventListener('touchstart', onTouch, {passive: true});
    window.addEventListener('scroll', onScroll, {passive: true});
    document.addEventListener('click', onClick);

    // Also auto-shrink after a timeout (optional, in case user doesn't interact)
    const AUTO_SHRINK_MS = 4000;
    setTimeout(() => triggerShrink(), AUTO_SHRINK_MS);

    // accessibility: if user prefers reduced motion, skip animation and just move iframe back
    const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (reduce) {
      // immediate move back
      wrapper.appendChild(iframe);
      if (floating.parentNode) floating.parentNode.removeChild(floating);
      // remove listeners
      window.removeEventListener('wheel', onWheel);
      window.removeEventListener('touchstart', onTouch);
      window.removeEventListener('scroll', onScroll);
      document.removeEventListener('click', onClick);
    }
  })();
  </script>
</body>
</html>
